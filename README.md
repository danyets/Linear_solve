# Linear_solve
Solving linear system of equations with Gauss method

                       ТРЕБОВАНИЯ К ПРОГРАММАМ


1. Программа должна получать все параметры в качестве аргументов командной строки.
   Аргументы командной строки:
    (a) 𝑡 — только для параллельной задачи, количество потоков,
   (b) 𝑛 — размерность матрицы,
    (c) 𝑚 — количество выводимых значений в матрице (см. 7 и 8),
   (d) 𝑘 — задает номер формулы для инициализации матрицы, должен быть равен 0 при
        вводе матрицы из файла,
    (e) filename — имя файла, откуда надо прочитать матрицу. Этот аргумент отсутствует,
        если k! = 0.
   Например, запуск непараллельной программы
  ./a.out 4 4 0 a.txt
  означает, что матрицу 4x4 надо прочитать из файла a.txt и выводить не более 4-х строк
  и столбцов матрицы, а запуск
  ./a.out 2000 6 1
  означает, что матрицу 2000x2000 надо инициализировать по формуле номер 1 и выводить
  не более 6-ти строк и столбцов матрицы.
  А запуск параллельной программы
  ./a.out 3 2000 6 1
   означает, что матрицу 2000x2000 надо инициализировать по формуле номер 1 и выводить
   не более 6-ти строк и столбцов матрицы, при этом решение задачи (решение системы или
   обращение матрицы) должно осуществляться в 3 потока.
2. В задачах, где требуется правая часть 𝑏, этот вектор строится после инициализации мат-
   рицы 𝐴 = (𝑎𝑖,𝑗 )𝑖,𝑗=1,...,𝑛 по формуле:
                                                           (𝑛+1)/2
                                                             ∑︁
                               𝑏 = (𝑏𝑖 )𝑖=1,...,𝑛 , 𝑏𝑖 =             𝑎𝑖,2𝑘+1
                                                             𝑘=0


3. Ввод матрицы должен быть оформлен в виде подпрограммы, находящейся в отдельном
   файле.
4. Ввод матрицы из файла. В указанном файле находится матрица в формате:
                                           𝑎1,1       . . . 𝑎1,𝑛
                                           𝑎2,1       . . . 𝑎2,𝑛
                                           ...        ... ...
                                           𝑎𝑛,1       . . . 𝑎𝑛,𝑛

  где 𝑛 — указанный размер матрицы, 𝐴 = (𝑎𝑖,𝑗 ) — матрица. Программа должна выводить
  сообщение об ошибке, если указанный файл не может быть прочитан, содержит меньшее
  количество данных или данные неверного формата.


                                                  1
5. Ввод матрицы и правой части по формуле. Элемент 𝑎𝑖,𝑗 матрицы A полагается равным
                            𝑎𝑖,𝑗 = 𝑓 (𝑘, 𝑛, 𝑖, 𝑗),   𝑖, 𝑗 = 1, . . . , 𝑛,

  где 𝑓 (𝑘, 𝑛, 𝑖, 𝑗) — функция, которая возвращает значение (𝑖, 𝑗)-го элемента n Ö n матрицы
  по формуле номер k (аргумент командной строки). Функция 𝑓 (𝑘, 𝑛, 𝑖, 𝑗) должна быть
  оформлена в виде отдельной подпрограммы.
                                            | 𝑛 − 𝑚𝑎𝑥(𝑖, 𝑗) + 1   при 𝑘 = 1
                                            ⎪
                                            ⎪
                                            ⎨ 𝑚𝑎𝑥(𝑖, 𝑗)     при 𝑘 = 2
                                            ⎪
                                            ⎪
                           𝑓 (𝑘, 𝑛, 𝑖, 𝑗) =   | |𝑖 − 𝑗|       при 𝑘 = 3
                                            |                    
                                            ⎪
                                            ⎪
                                            ⎪
                                            ⎪
                                            |  𝑖+𝑗−1       при 𝑘 = 4
                                            ⎩


6. Решение системы должно быть оформлено в виде подпрограммы, находящейся в отдель-
   ном файле и получающей в качестве аргументов
     (a) размерность 𝑛 матрицы 𝐴,
    (b) матрицу 𝐴,
     (c) правую часть 𝑏 (если стоит задача решить линейную систему)
    (d) вектор 𝑥, в который будет помещено решение системы, если стоит задача решить
         линейную систему, или матрицу 𝑋 , в которую будет помещена обратная матрица,
         если стоит задача обратить матрицу,
     (e) дополнительные вектора, если алгоритму требуется дополнительная память.
   Получать в этой подпрограмме дополнительную информацию извне через глобальные
   переменные, включаемые файлы и т.п. запрещается.
7. Программа должна содержать подпрограмму вывода на экран прямоугольной матрицы
   𝑙 × 𝑛 матрицы. Эта подпрограмма используется для вывода исходной 𝑛 × 𝑛 матрицы после
   её инициализации, а также для вывода на экран решения системы (1 × 𝑛 матрицы) или
   обратной 𝑛 × 𝑛 матрицы, если стоит задача обратить матрицу. Подпрограмма выводит на
   экран не более, чем 𝑚 строк и столбцов 𝑙 × 𝑛 матрицы, где 𝑚 — параметр этой подпро-
   граммы (аргумент командной строки). Каждая строка матрицы должна печататься на
   новой строке, каждый элемент матрицы выводится в строке по формату "%10.8e" (один
   пробел между элементами и экспоненциальный формат %10.8e).
8. В случае 𝑚 = 0, на экран выводится только значение нормы невязки или нормы погреш-
   ности и время (см. 11).
   В случае 𝑚 = −1, на экран выводится только либо обратная матрица, либо решение
   системы. Вычисление невязки не производится.
9. Программа должна содержать подпрограмму вычисления нормы невязки, т.е.
      при вычислении решения системы: ‖𝐴𝑥‖𝑏‖− 𝑏‖ ,
      при вычислении обратной матрицы: ‖𝐴𝐴−1 − 𝐸‖

  и выводить эту норму невязки на экран (в экспоненциальном формате).


                                               
10. Для задачи решения линейной системы программа должна выводить норму погрешности,
    т.е. норму разности между полученным приближенным решением и точным решением (1,
    0, 1, 0, 1, . . . ).
11. Программа должна выводить на экран время, затраченное на решение системы (обра-
    щение матрицы, если стоит задача обратить матрицу). Допустимо представлять время в
    секундах с сотыми долями, не преобразовывая в обычный формат чч.мм.сс:тт.
12. Суммарный объем оперативной памяти, требуемой программе, не должен превышать:
        при вычислении решения системы: 𝑛2 + 𝑂(𝑛),
        при вычислении обратной матрицы: 2𝑛2 + 𝑂(𝑛).

    Для выполнения этого требования после завершения алгоритма решения (нахождения
    обратной матрицы) вызывается подпрограмма инициализации матрицы (из файла или по
    формуле) и вычисления вектора 𝑏 (в задачах решения линейной системы).
13. Время работы программы не должно превышать 𝑂(𝑛3).




                                         
                         ПРИМЕРЫ ВЫВОДА ПРОГРАММЫ


  Вывод многотопоточной программы не должен отличаться от вывода однопоточной.
  Пример вывода программы решения СЛУ.


  Команда: ./a.out    5 3 1
  Вывод:
Matrix:
  5.000e+00    4.000e+00    3.000e+00
  4.000e+00    4.000e+00    3.000e+00
  3.000e+00    3.000e+00    3.000e+00
Result:
  1.000e+00    1.234e-56    9.999e-01

Residual: 2.034e-13
Error: 1.987e-05
Time: 0.23 sec
  Команда: ./a.out    5 0 1
  Вывод:
Residual: 2.034e-13
Error: 1.987e-05
Time: 0.23 sec
  Команда: ./a.out    5 -1 1
  Вывод:
1.000e+00     1.234e-56    9.999e-01 0.000e+00 1.001e+00
  Пример вывода программы обращения матрицы.


  Команда: ./a.out    5 3 1
  Вывод:
Matrix:
  5.000e+00 4.000e+00       3.000e+00
  4.000e+00 4.000e+00       3.000e+00
  3.000e+00 3.000e+00       3.000e+00
Result:
  1.000e+00 -1.000e+00      1.234e-10
 -1.000e+00 2.000e+00      -1.000e+00
  1.234e-10 -1.000e+00      1.999e+00
Residual: 2.034e-13
Time: 0.23 sec
  Команда: ./a.out    5 0 1
  Вывод:
Residual: 2.034e-13
Time: 0.23 sec


 Команда: ./a.out   5 -1 1
 Вывод:
 1.000e+00 -1.000e+00 1.234e-10 1.234e-10 1.234e-10
-1.000e+00 2.000e+00 -1.000e+00 1.234e-10 1.234e-10
 1.234e-10 -1.000e+00 1.999e+00 -1.000e+00 1.234e-10
 1.234e-10 1.234e-10 -1.000e+00 1.999e+00 -1.000e+00
 1.234e-10 1.234e-10 1.234e-10 -1.000e+00 2.001e+00


